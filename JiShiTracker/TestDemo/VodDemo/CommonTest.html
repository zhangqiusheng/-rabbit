<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="../../Build/jitv_tracker_release.js"></script>
    <script type="text/javascript" src="./prepare/prepare.js"></script>
    <script type="text/javascript">
        var gs_tracker = window.GridsumTracker.getTracker('12345','1.0.0','prepare/'),
            epg = window.tracker.createEPGUnit(),
            bc = window.tracker.createButtonClickUnit();
    </script>
</head>
<body>
<input type="button" value="setUid">
<input type="button" value="setCA">
<input type="button" value="setMac">
<input type="button" value="setStbid">
<input type="button" value="setArea">
<input type="button" value="setTz">
</body>
<script>
    var body = document.body;
    if(body.addEventListener){
        body.addEventListener('click',function(e){set(e);},true);
    }else if(body.attachEvent){
        body.attachEvent('onclick',function(e){set(e);});
    }

    function set(e){
        var event = e || window.event,
        src = e.target || e.srcElement;
        var isRandomString,value,field;
        switch(src.value){
            case "setUid": isRandomString = true;field = "uid"; break;
            case "setCA": isRandomString = true;field = "ca"; break;
            case "setMac": isRandomString = true;field = "mac"; break;
            case "setStbid": isRandomString = true;field = "stbid"; break;
            case "setArea": isRandomString = true;field = "ac"; break;
            case "setTz": isRandomString = false;field = "tz"; break;
            default: return;
        }
        if(isRandomString){
            value = Math.floor(Math.random()*10000) + "";
        }else{
            value = Math.floor(Math.random()*10); 
        }
        gs_tracker[src.value](value);
        console.log('sourceValue:'+value);
        console.log('getValue:'+window.tracker.getFieldProvider(field).get());
    }
</script>
</html>